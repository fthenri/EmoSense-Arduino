// Definição dos pinos dos botões
int btnPin1 = 13; // Pino do botão 1
int btnPin2 = 12; // Pino do botão 2
int btnPin3 = 11; // Pino do botão 3
int btnPin4 = 10; // Pino do botão 4

// Variáveis para armazenar o estado dos botões
bool btnState1; // Estado do botão 1 
bool btnState2; // Estado do botão 2 
bool btnState3; // Estado do botão 3 
bool btnState4; // Estado do botão 4 

// Definição do pino do buzzer
int buzzer = 8; // Pino do Piezo (buzzer)

void setup() {
  // Inicializa a comunicação serial a 9600 bps
  Serial.begin(9600);
  
  // Configura os pinos dos botões como entradas
  pinMode(btnPin1, INPUT_PULLUP);
  pinMode(btnPin2, INPUT_PULLUP);
  pinMode(btnPin3, INPUT_PULLUP);
  pinMode(btnPin4, INPUT_PULLUP);
  
  // Configura o pino do buzzer como saída
  pinMode(buzzer, OUTPUT);
}
void loop() {
  // Lê o estado dos botões
  btnState1 = digitalRead(btnPin1);
  btnState2 = digitalRead(btnPin2);
  btnState3 = digitalRead(btnPin3);
  btnState4 = digitalRead(btnPin4);
  
  // Verifica se o botão 1 foi pressionado
  if (btnState1 == LOW) {
    // Envia a mensagem "btn1\n" pela serial
    Serial.write("btn1\n");
    // Emite um som no buzzer
    tone(buzzer, 2500);
    // Aguarda 100 milissegundos
    delay(100);
    // Para o som do buzzer
    noTone(buzzer);
    // Aguarda 1 segundo para evitar múltiplas leituras
    delay(1000);
  } 
  
  // Verifica se o botão 2 foi pressionado
  if (btnState2 == LOW) {
    // Envia a mensagem "btn2\n" pela serial
    Serial.write("btn2\n");
    // Emite um som no buzzer
    tone(buzzer, 2500);
    // Aguarda 100 milissegundos
    delay(100);
    // Para o som do buzzer
    noTone(buzzer);
    // Aguarda 1 segundo para evitar múltiplas leituras
    delay(1000);
  } 
  
  // Verifica se o botão 3 foi pressionado
  if (btnState3 == LOW) {
    // Envia a mensagem "btn3\n" pela serial
    Serial.write("btn3\n");
    // Emite um som no buzzer
    tone(buzzer, 2500);
    // Aguarda 100 milissegundos
    delay(100);
    // Para o som do buzzer
    noTone(buzzer);
    // Aguarda 1 segundo para evitar múltiplas leituras
    delay(1000);
  } 
  
  // Verifica se o botão 4 foi pressionado
  if (btnState4 == LOW) {
    // Envia a mensagem "btn4\n" pela serial
    Serial.write("btn4\n");
    // Emite um som no buzzer
    tone(buzzer, 2500);
    // Aguarda 100 milissegundos
    delay(100);
    // Para o som do buzzer
    noTone(buzzer);
    // Aguarda 1 segundo para evitar múltiplas leituras
    delay(1000);
  } 
  

  // Verifica se há dados disponíveis na serial
  if (Serial.available()) {
    // Lê a string recebida até o caractere de nova linha
    String command = Serial.readStringUntil('\n');
    // Verifica se o comando recebido é "ping"
    if (command == "ping") {
      // Responde com "pong"
      Serial.println("pong");
    }
  }
}
